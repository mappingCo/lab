<!-- 
http://openstreetmap.us/~migurski/vector-datasource/
http://bl.ocks.org/NelsonMinar/5624141#TileLayer.d3_geoJSON.js 

-->
<!DOCTYPE html>

<html>
    <head>

        <meta charset="utf-8">
        <meta name="viewport" content='initial-scale=1,maximum-scale=1,user-scalable=no' />

        <link rel="stylesheet" href="http://leafletjs.com/dist/leaflet.css" media="screen" type="text/css">
        <script src='http://d3js.org/d3.v3.min.js' type="text/javascript"></script>
        <script src='http://d3js.org/topojson.v1.min.js' type="text/javascript"></script>
        <script src='http://leafletjs.com/dist/leaflet.js' type="text/javascript"></script>
        <script src='lib/TileLayer.d3_geoJSON.js' type="text/javascript"></script><!-- openstreetmap tiles -->

    <style>

        html, body, #myMap { width: 100%; height: 100%; margin: 0; padding: 0;}

        .leaflet-container {
          background: transparent;
          outline: 0;
        }
        .tile-background {
            fill: red;
        }
        path.water { stroke: #D3D3D3; fill: #D3D3D3; }

    </style>

</head>

<body>

    <div id="myMap"></div>

    <script>

        var map = L.map('myMap').setView([39.47, -2.94], 6);

        // Hat Tip http://bl.ocks.org/NelsonMinar/5624141
        // Add a fake GeoJSON line to coerce Leaflet into creating the <svg> tag that d3_geoJson needs
        new L.geoJson({"type": "LineString","coordinates":[[0,0],[0,0]]}).addTo(map);
        
        new L.TileLayer.d3_geoJSON("http://tile.openstreetmap.us/vectiles-water-areas/{z}/{x}/{y}.json", {
            class: "water",

            style: ""/*function(d) { 

                var kind = d.properties.kind;
                c = 'gray'
                if (kind = 'lake'){
                    c= 'red'
                }

                if (kind = 'ocean'){
                    c= 'green'
                }
                return "fill: " + c; 
            }*/


        }).addTo(map);

    </script>

</body>

</html>